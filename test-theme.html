<!DOCTYPE html>
<html>
<head>
    <title>Theme Test</title>
    <style>
        body { margin: 20px; font-family: Arial, sans-serif; }
        .theme-controls { margin-bottom: 20px; }
        .chart-container { width: 600px; height: 400px; border: 1px solid #ccc; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <div class="theme-controls">
        <button onclick="switchToLight()">Light Theme</button>
        <button onclick="switchToDark()">Dark Theme</button>
    </div>
    <div id="chart" class="chart-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script>
        let chart = null;
        let currentTheme = 'light';

        function initChart() {
            chart = echarts.init(document.getElementById('chart'));
            updateChart();
        }

        function updateChart() {
            const isDark = currentTheme === 'dark';
            
            const option = {
                backgroundColor: isDark ? '#1a1a1a' : '#ffffff',
                textStyle: {
                    color: isDark ? '#ffffff' : '#333333'
                },
                title: {
                    text: 'Theme Test Chart',
                    textStyle: {
                        color: isDark ? '#ffffff' : '#333333'
                    }
                },
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    axisLine: {
                        lineStyle: { color: isDark ? '#666666' : '#cccccc' }
                    },
                    axisTick: {
                        lineStyle: { color: isDark ? '#666666' : '#cccccc' }
                    },
                    axisLabel: {
                        color: isDark ? '#cccccc' : '#666666'
                    }
                },
                yAxis: {
                    type: 'value',
                    axisLine: {
                        lineStyle: { color: isDark ? '#666666' : '#cccccc' }
                    },
                    axisTick: {
                        lineStyle: { color: isDark ? '#666666' : '#cccccc' }
                    },
                    axisLabel: {
                        color: isDark ? '#cccccc' : '#666666'
                    },
                    splitLine: {
                        lineStyle: { color: isDark ? '#333333' : '#f0f0f0' }
                    }
                },
                series: [{
                    data: [120, 200, 150, 80, 70, 110, 130],
                    type: 'bar',
                    itemStyle: {
                        color: '#5470c6'
                    }
                }]
            };

            chart.setOption(option, { notMerge: true });
        }

        function switchToLight() {
            currentTheme = 'light';
            updateChart();
            console.log('Switched to light theme');
        }

        function switchToDark() {
            currentTheme = 'dark';
            updateChart();
            console.log('Switched to dark theme');
        }

        // Initialize when page loads
        window.onload = initChart;
    </script>
</body>
</html>